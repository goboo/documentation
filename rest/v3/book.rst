POST /api/v3/rest/room/{room}/book.json
=======================================

Do a booking.

+------------+----------------------------------------+
| Method     | ``POST``                               |
+------------+----------------------------------------+
| URL        | ``/api/v3/rest/room/{room}/book.json`` |
+------------+----------------------------------------+
| ``{room}`` | ID or slug of the room.                |
+------------+----------------------------------------+

Post Parameters
---------------

+----------------+----------+----------+------------------------------+
| Parameter      | Type     | Required | Description                  |
+================+==========+==========+==============================+
| ``name``       | string   | *        | The contact name.            |
+----------------+----------+----------+------------------------------+
| ``mobile``     | string   | *        | The contact mobile.          |
+----------------+----------+----------+------------------------------+
| ``email``      | string   | *        | The contact email.           |
+----------------+----------+----------+------------------------------+
| ``street``     | string   | *        | The contact street.          |
+----------------+----------+----------+------------------------------+
| ``postcode``   | string   | *        | The contact postcode.        |
+----------------+----------+----------+------------------------------+
| ``city``       | string   | *        | The contact city.            |
+----------------+----------+----------+------------------------------+
| ``attendance`` | int      | * (1)    | The attendance.              |
+----------------+----------+----------+------------------------------+
| ``exclusive``  | bool     | * (1)    | Book exclusive.              |
+----------------+----------+----------+------------------------------+
| ``players``    | string[] |          | List of player names.        |
+----------------+----------+----------+------------------------------+
| ``notes``      | string   |          | A comment from the customer. |
+----------------+----------+----------+------------------------------+

 * (1) If ``exclusive`` is ``true``, ``attendance`` is not required but can be provided.

Succeed response example
------------------------

.. code:: json

   {
       "id": "6d69a1e7-b226-11e4-b6e8-001c426331bc",
       "slots": [
           {
               "id": "e48c8814-acf3-11e4-b6e8-001c426331bc",
               "slug": "2015-02-11-12-00",
               "room": "491fb5a9-974e-11e4-b6e8-001c426331bc",
               "startDateTime": "2015-02-11T12:00:00+01:00",
               "endDateTime": "2015-02-11T12:30:00+01:00",
               "duration": 30,
               "playTime": 20,
               "capacity": 16,
               "attendance": 13,
               "players": [],
               "availableModes": [],
               "locked": false
           }
       ],
       "modes": [],
       "attendance": 1,
       "exclusive": false
   }

Failure response example
------------------------

.. code:: json

   {
       "error": "The slot e48c8814-acf3-11e4-b6e8-001c426331bc is booked!",
       "status": 903
   }

Error codes
-----------

+------+--------------------------------------------------------------------------+
| Code | Description                                                              |
+======+==========================================================================+
| 901  | A generic failure (internal server error or some other unknown failure). |
+------+--------------------------------------------------------------------------+
| 902  | One of the booked slot IDs does not exist.                               |
+------+--------------------------------------------------------------------------+
| 903  | One of the booked slots is full or have not enough free capacity.        |
+------+--------------------------------------------------------------------------+
| 904  | One of the booked slots has bookings and cannot be booked exclusive.     |
+------+--------------------------------------------------------------------------+
| 905  | The contact name is missing.                                             |
+------+--------------------------------------------------------------------------+
| 906  | The contact mobile is missing.                                           |
+------+--------------------------------------------------------------------------+
| 907  | The contact email is missing.                                            |
+------+--------------------------------------------------------------------------+
| 908  | The contact street is missing.                                           |
+------+--------------------------------------------------------------------------+
| 909  | The contact postcode is missing.                                         |
+------+--------------------------------------------------------------------------+
| 910  | The contact city is missing.                                             |
+------+--------------------------------------------------------------------------+
